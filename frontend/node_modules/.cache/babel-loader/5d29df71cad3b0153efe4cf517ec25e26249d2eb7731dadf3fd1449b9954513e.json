{"ast":null,"code":"class Api {\n  constructor({\n    baseUrl,\n    headers\n  }) {\n    this._baseUrl = baseUrl;\n    this._fetchObject = {};\n    this._fetchObject.headers = headers;\n    this._fetchObject.method = 'GET';\n  }\n  getUserInfo() {\n    return this._request(`/users/me`, this._fetchObject);\n  }\n  getInitialCards() {\n    return this._request(`/cards`, this._fetchObject);\n  }\n  editUserInfo({\n    name,\n    about\n  }) {\n    this._fetchObject.method = 'PATCH';\n    this._fetchObject.body = JSON.stringify({\n      name,\n      about\n    });\n    return this._request(`/users/me`, this._fetchObject);\n  }\n  addCard({\n    name,\n    link\n  }) {\n    this._fetchObject.method = 'POST';\n    this._fetchObject.body = JSON.stringify({\n      name,\n      link\n    });\n    return this._request(`/cards`, this._fetchObject);\n  }\n  deleteCard(cardID) {\n    this._fetchObject.method = 'DELETE';\n    return this._request(`/cards/${cardID}`, this._fetchObject);\n  }\n  changeAvatar(avatarLink) {\n    this._fetchObject.method = 'PATCH';\n    this._fetchObject.body = JSON.stringify({\n      avatar: avatarLink\n    });\n    return this._request(`/users/me/avatar`, this._fetchObject);\n  }\n  toggleLike(cardID, isLiked) {\n    if (isLiked) {\n      return this._deleteLike(cardID);\n    }\n    return this._pressLike(cardID);\n  }\n  _pressLike(cardID) {\n    this._fetchObject.method = 'PUT';\n    return this._request(`/cards/${cardID}/likes`, this._fetchObject);\n  }\n  _deleteLike(cardID) {\n    this._fetchObject.method = 'DELETE';\n    return this._request(`/cards/${cardID}/likes`, this._fetchObject);\n  }\n  _request(endpoint, fetchObject) {\n    return fetch(`${this._baseUrl}/${endpoint}`, fetchObject).then(this._checkResponse);\n  }\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    console.log(`Ошибка: ${res.status}`);\n  }\n}\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-64',\n  headers: {\n    authorization: '8e64748d-eef9-4a6a-8486-bec99847cca5',\n    'Content-Type': 'application/json'\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","baseUrl","headers","_baseUrl","_fetchObject","method","getUserInfo","_request","getInitialCards","editUserInfo","name","about","body","JSON","stringify","addCard","link","deleteCard","cardID","changeAvatar","avatarLink","avatar","toggleLike","isLiked","_deleteLike","_pressLike","endpoint","fetchObject","fetch","then","_checkResponse","res","ok","json","console","log","status","api","authorization"],"sources":["/Users/darvin/Desktop/Frontend/Mesto frontend + backend/react-mesto-api-full-gha/frontend/src/utils/Api.js"],"sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl\n    this._fetchObject = {}\n    this._fetchObject.headers = headers\n    this._fetchObject.method = 'GET'\n  }\n\n  getUserInfo() {\n    return this._request(`/users/me`, this._fetchObject)\n  }\n\n  getInitialCards() {\n    return this._request(`/cards`, this._fetchObject)\n  }\n\n  editUserInfo({ name, about }) {\n    this._fetchObject.method = 'PATCH';\n    this._fetchObject.body = JSON.stringify({ name, about })\n\n    return this._request(`/users/me`, this._fetchObject)\n  }\n\n  addCard({ name, link }) {\n    this._fetchObject.method = 'POST';\n    this._fetchObject.body = JSON.stringify({ name, link })\n\n    return this._request(`/cards`, this._fetchObject)\n  }\n\n  deleteCard(cardID) {\n    this._fetchObject.method = 'DELETE';\n\n    return this._request(`/cards/${cardID}`, this._fetchObject)\n  }\n\n  changeAvatar(avatarLink) {\n    this._fetchObject.method = 'PATCH';\n    this._fetchObject.body = JSON.stringify({ avatar: avatarLink })\n\n    return this._request(`/users/me/avatar`, this._fetchObject)\n  }\n\n  toggleLike(cardID, isLiked) {\n    if (isLiked) {\n      return this._deleteLike(cardID)\n    }\n    return this._pressLike(cardID)\n  }\n\n  _pressLike(cardID) {\n    this._fetchObject.method = 'PUT';\n\n    return this._request(`/cards/${cardID}/likes`, this._fetchObject)\n  }\n\n  _deleteLike(cardID) {\n    this._fetchObject.method = 'DELETE';\n\n    return this._request(`/cards/${cardID}/likes`, this._fetchObject)\n  }\n\n  _request(endpoint, fetchObject) {\n    return fetch(`${this._baseUrl}/${endpoint}`, fetchObject)\n      .then(this._checkResponse)\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json()\n    }\n    console.log(`Ошибка: ${res.status}`);\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-64',\n  headers: {\n    authorization: '8e64748d-eef9-4a6a-8486-bec99847cca5',\n    'Content-Type': 'application/json'\n  }\n});\n\n\nexport default api"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}